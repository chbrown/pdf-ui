<h2>Page {{pageNumber}}</h2>
<code>MediaBox: {{page.MediaBox}}</code>

<div ng-if="page" ng-class="{outline: $storage.outline}">
  <h3>Layout</h3>
  <div style="margin: 10px 0">
    <label>
      <input type="checkbox" ng-model="$storage.outline"> Show outlines
    </label>
  </div>
  <div style="margin: 10px 0">
    <div>Scale ({{$storage.scale * 100 | number:0}}%)</div>
    <input type="range" min="0.1" max="4.0" step="0.1" ng-model="$storage.scale" style="width: 400px">
  </div>

  <div ng-style="{transform: 'scale(' + $storage.scale + ')'}" class="transform-root">
    <div class="page" ng-style="page.canvas.outerBounds | rectStyle">
      <!-- <div ng-repeat="section in page.canvas.sections" ng-class="section.name" ng-style="section.outerBounds | rectStyle"></div> -->
      <component name="PDFPage" file="file" model="page.canvas"></component>
    </div>
  </div>
  <!-- CSS Transform does not affect document flow, so we add a spacer -->
  <div ng-style="{width: '100px', height: ((page.canvas.outerBounds.maxY - page.canvas.outerBounds.minY) * $storage.scale | px)}"></div>

  <h3>Page Sections</h3>
  <div ng-repeat="section in page.canvas.sections" class="section">
    <h4>{{section.name}}</h4>
    <!-- <small>{{section.outerBounds | rectString}}</small> -->
    <p>{{section.elements.length}} elements</p>
    <ol>
      <li ng-repeat="line in section.lines track by $index">
        <span class="line">{{line.string}}</span>
      </li>
    </ol>
  </div>
</div>
